DROP TABLE IF EXISTS trips;

DROP TABLE IF EXISTS regions;

DROP TABLE IF EXISTS couriers;

CREATE TABLE regions (
	id INT AUTO_INCREMENT PRIMARY KEY,
	name VARCHAR(255) NOT NULL,
	travel_days INT NOT NULL DEFAULT 0,
	travel_days_back INT NOT NULL DEFAULT 0
);

CREATE TABLE couriers (
	id INT AUTO_INCREMENT PRIMARY KEY,
	name VARCHAR(255) NOT NULL,
	is_busy BOOLEAN DEFAULT FALSE
);

CREATE TABLE trips (
	id INT AUTO_INCREMENT PRIMARY KEY,
	courier_id INT,
	region_id INT,
	departure_date DATE,
	arrival_date DATE,
	return_date DATE,
	FOREIGN KEY (courier_id) REFERENCES couriers(id),
	FOREIGN KEY (region_id) REFERENCES regions(id)
);

INSERT INTO regions (id, name, travel_days, travel_days_back) VALUES
(1, 'Санкт-Петербург', 2, 2),
(2, 'Уфа', 5, 3),
(3, 'Нижний Новгород', 1, 5),
(4, 'Владимир', 5, 6),
(5, 'Кострома', 7, 3),
(6, 'Екатеринбург', 4, 7),
(7, 'Ковров', 2, 7),
(8, 'Воронеж', 6, 3),
(9, 'Самара', 3, 7),
(10, 'Астрахань', 4, 6);

INSERT INTO couriers (id, name, is_busy) VALUES
(1, 'Рамиль Рамилевич Соколов', 1),
(2, 'Раис Иванович Попов', NULL),
(3, 'Борис Фаритович Смирнов', 1),
(4, 'Борис Булатович Попов', NULL),
(5, 'Алексей Александрович Шарипов', 1),
(6, 'Рамиль Айратович Гайнуллин', NULL),
(7, 'Николай Миннегалиевич Шарипов', NULL),
(8, 'Николай Булатович Сафин', 1),
(9, 'Салават Айратович Гайнуллин', NULL),
(10, 'Раис Фаритович Иванов', 1);

INSERT INTO trips (id, courier_id, region_id, departure_date, arrival_date, return_date) VALUES
(1, 1, 10, '2024-08-01', '2024-08-05', '2024-08-11'),
(2, 2, 5, '2024-08-01', '2024-08-08', '2024-08-11'),
(3, 3, 1, '2024-08-01', '2024-08-03', '2024-08-05'),
(4, 4, 7, '2024-08-01', '2024-08-03', '2024-08-10'),
(5, 5, 7, '2024-08-01', '2024-08-03', '2024-08-10'),
(6, 6, 8, '2024-08-01', '2024-08-07', '2024-08-10'),
(7, 7, 10, '2024-08-01', '2024-08-05', '2024-08-11'),
(8, 8, 6, '2024-08-01', '2024-08-05', '2024-08-12'),
(9, 9, 6, '2024-08-01', '2024-08-05', '2024-08-12'),
(10, 10, 9, '2024-08-01', '2024-08-04', '2024-08-11'),
(11, 3, 10, '2024-08-11', '2024-08-15', '2024-08-21'),
(12, 4, 4, '2024-08-14', '2024-08-19', '2024-08-25'),
(13, 6, 8, '2024-08-14', '2024-08-20', '2024-08-23'),
(14, 5, 3, '2024-08-15', '2024-08-16', '2024-08-21'),
(15, 7, 5, '2024-08-16', '2024-08-23', '2024-08-26'),
(16, 8, 3, '2024-08-16', '2024-08-17', '2024-08-22'),
(17, 9, 5, '2024-08-16', '2024-08-23', '2024-08-26'),
(18, 10, 8, '2024-08-16', '2024-08-22', '2024-08-25'),
(19, 1, 9, '2024-08-17', '2024-08-20', '2024-08-27'),
(20, 2, 5, '2024-08-17', '2024-08-24', '2024-08-27'),
(21, 5, 5, '2024-08-25', '2024-09-01', '2024-09-04'),
(22, 3, 9, '2024-08-26', '2024-08-29', '2024-09-05'),
(23, 8, 7, '2024-08-27', '2024-08-29', '2024-09-05'),
(24, 6, 8, '2024-08-29', '2024-09-04', '2024-09-07'),
(25, 10, 8, '2024-08-29', '2024-09-04', '2024-09-07'),
(26, 7, 1, '2024-08-30', '2024-09-01', '2024-09-03'),
(27, 9, 1, '2024-08-30', '2024-09-01', '2024-09-03'),
(28, 4, 9, '2024-08-31', '2024-09-03', '2024-09-10'),
(29, 2, 2, '2024-09-01', '2024-09-06', '2024-09-09'),
(30, 1, 2, '2024-09-02', '2024-09-07', '2024-09-10'),
(31, 7, 7, '2024-09-07', '2024-09-09', '2024-09-16'),
(32, 9, 3, '2024-09-08', '2024-09-09', '2024-09-14'),
(33, 8, 6, '2024-09-09', '2024-09-13', '2024-09-20'),
(34, 5, 7, '2024-09-10', '2024-09-12', '2024-09-19'),
(35, 3, 9, '2024-09-11', '2024-09-14', '2024-09-21'),
(36, 6, 3, '2024-09-11', '2024-09-12', '2024-09-17'),
(37, 10, 8, '2024-09-11', '2024-09-17', '2024-09-20'),
(38, 2, 3, '2024-09-13', '2024-09-14', '2024-09-19'),
(39, 1, 1, '2024-09-15', '2024-09-17', '2024-09-19'),
(40, 4, 4, '2024-09-16', '2024-09-21', '2024-09-27'),
(41, 9, 5, '2024-09-19', '2024-09-26', '2024-09-29'),
(42, 7, 6, '2024-09-20', '2024-09-24', '2024-10-01'),
(43, 1, 7, '2024-09-23', '2024-09-25', '2024-10-02'),
(44, 6, 9, '2024-09-23', '2024-09-26', '2024-10-03'),
(45, 2, 3, '2024-09-24', '2024-09-25', '2024-09-30'),
(46, 5, 10, '2024-09-24', '2024-09-28', '2024-10-04'),
(47, 3, 10, '2024-09-25', '2024-09-29', '2024-10-05'),
(48, 10, 7, '2024-09-25', '2024-09-27', '2024-10-04'),
(49, 8, 8, '2024-09-26', '2024-10-02', '2024-10-05'),
(50, 4, 9, '2024-10-03', '2024-10-06', '2024-10-13'),
(51, 9, 1, '2024-10-04', '2024-10-06', '2024-10-08'),
(52, 2, 6, '2024-10-05', '2024-10-09', '2024-10-16'),
(53, 7, 10, '2024-10-05', '2024-10-09', '2024-10-15'),
(54, 1, 2, '2024-10-08', '2024-10-13', '2024-10-16'),
(55, 5, 9, '2024-10-08', '2024-10-11', '2024-10-18'),
(56, 10, 9, '2024-10-08', '2024-10-11', '2024-10-18'),
(57, 3, 7, '2024-10-09', '2024-10-11', '2024-10-18'),
(58, 6, 2, '2024-10-09', '2024-10-14', '2024-10-17'),
(59, 8, 1, '2024-10-11', '2024-10-13', '2024-10-15'),
(60, 9, 4, '2024-10-14', '2024-10-19', '2024-10-25'),
(61, 4, 10, '2024-10-17', '2024-10-21', '2024-10-27'),
(62, 7, 7, '2024-10-19', '2024-10-21', '2024-10-28'),
(63, 8, 1, '2024-10-19', '2024-10-21', '2024-10-23'),
(64, 2, 3, '2024-10-20', '2024-10-21', '2024-10-26'),
(65, 1, 8, '2024-10-21', '2024-10-27', '2024-10-30'),
(66, 6, 1, '2024-10-21', '2024-10-23', '2024-10-25'),
(67, 3, 7, '2024-10-23', '2024-10-25', '2024-11-01'),
(68, 5, 9, '2024-10-23', '2024-10-26', '2024-11-02'),
(69, 10, 7, '2024-10-23', '2024-10-25', '2024-11-01'),
(70, 8, 7, '2024-10-28', '2024-10-30', '2024-11-06');